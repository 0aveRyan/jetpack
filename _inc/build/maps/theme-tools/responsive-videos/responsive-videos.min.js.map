{"version":3,"sources":["theme-tools/responsive-videos/responsive-videos.js"],"names":["$","responsiveVideos","find","each","_this","videoWidth","videoHeight","videoRatio","videoWrapper","videoMargin","containerWidth","this","parents","prev","css","attr","height","width","display","margin","parent","removeAttr","resizeTimer","document","ready","undefined","window","_wpmejsSettings","stretching","on","clearTimeout","setTimeout","resize","jQuery"],"mappings":";CACA,SAAYA,GAIX,QAASC,KAERD,EAAG,0BAA2BE,KAAM,yBAA0BC,KAAM,WACnE,GAAIC,GAAOC,EAAYC,EAAaC,EAAYC,EAAcC,EAAaC,CAE3EN,GAAQJ,EAAGW,MACXF,EAAc,EAEqE,WAA9EL,EAAMQ,QAAS,0BAA2BC,KAAM,KAAMC,IAAK,gBAC/DL,EAAc,UAGRL,EAAMW,KAAM,eAClBX,EACEW,KAAM,aAAcJ,KAAKK,OAASL,KAAKM,OACvCF,KAAM,aAAcJ,KAAKM,OACzBF,KAAM,cAAeJ,KAAKK,QAC1BF,KACAI,QAAY,QACZC,OAAYV,IAIfJ,EAAiBD,EAAMW,KAAM,cAC7BT,EAAiBF,EAAMW,KAAM,eAC7BR,EAAiBH,EAAMW,KAAM,cAC7BP,EAAiBJ,EAAMgB,SACvBV,EAAiBF,EAAaS,QAEV,aAAfV,IACJF,EAAa,QAGdD,EACEiB,WAAY,UACZA,WAAY,SAEThB,EAAaK,EACjBN,EACEa,MAAOP,GACPM,OAAQN,EAAiBH,GAE3BH,EACEa,MAAOZ,GACPW,OAAQV,KA9Cb,GAAIgB,EAqDJtB,GAAGuB,UAAWC,MAAO,eAIDC,WAAXC,SACPA,OAAOC,iBAC+B,eAAtCD,OAAOC,gBAAgBC,YAIxB5B,EAAG0B,QACDG,GAAI,eAAgB5B,GACpB4B,GAAI,iBAAkB,WACtBC,aAAcR,GACdA,EAAcS,WAAY9B,EAAkB,OAE5C4B,GAAI,oBAAqB5B,GACzB+B,YAGCC","file":"../../../theme-tools/responsive-videos/responsive-videos.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n( function( $ ) {\n\n\tvar resizeTimer;\n\n\tfunction responsiveVideos() {\n\n\t\t$( '.jetpack-video-wrapper' ).find( 'embed, iframe, object' ).each( function() {\n\t\t\tvar _this, videoWidth, videoHeight, videoRatio, videoWrapper, videoMargin, containerWidth;\n\n\t\t\t_this = $( this );\n\t\t\tvideoMargin = 0;\n\n\t\t\tif ( _this.parents( '.jetpack-video-wrapper' ).prev( 'p' ).css( 'text-align' ) === 'center' ) {\n\t\t\t\tvideoMargin = '0 auto';\n\t\t\t}\n\n\t\t\tif ( ! _this.attr( 'data-ratio' ) ) {\n\t\t\t\t_this\n\t\t\t\t\t.attr( 'data-ratio', this.height / this.width )\n\t\t\t\t\t.attr( 'data-width', this.width )\n\t\t\t\t\t.attr( 'data-height', this.height )\n\t\t\t\t\t.css( {\n\t\t\t\t\t\t'display' : 'block',\n\t\t\t\t\t\t'margin'  : videoMargin\n\t\t\t\t\t} );\n\t\t\t}\n\n\t\t\tvideoWidth     = _this.attr( 'data-width' );\n\t\t\tvideoHeight    = _this.attr( 'data-height' );\n\t\t\tvideoRatio     = _this.attr( 'data-ratio' );\n\t\t\tvideoWrapper   = _this.parent();\n\t\t\tcontainerWidth = videoWrapper.width();\n\n\t\t\tif ( videoRatio === 'Infinity' ) {\n\t\t\t\tvideoWidth = '100%';\n\t\t\t}\n\n\t\t\t_this\n\t\t\t\t.removeAttr( 'height' )\n\t\t\t\t.removeAttr( 'width' );\n\n\t\t\tif ( videoWidth > containerWidth ) {\n\t\t\t\t_this\n\t\t\t\t\t.width( containerWidth )\n\t\t\t\t\t.height( containerWidth * videoRatio );\n\t\t\t} else {\n\t\t\t\t_this\n\t\t\t\t\t.width( videoWidth )\n\t\t\t\t\t.height( videoHeight );\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t$( document ).ready( function() {\n\t\t// With WordPress 4.9, the default settings for MediaElement.js already make videos responsive\n\t\t// Global settings for MediaElement are present in window._wpmejsSettings\n\t\tif (\n\t\t\ttypeof window !== undefined &&\n\t\t\twindow._wpmejsSettings &&\n\t\t\twindow._wpmejsSettings.stretching === 'responsive'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\t$( window )\n\t\t\t.on( 'load.jetpack', responsiveVideos )\n\t\t\t.on( 'resize.jetpack', function() {\n\t\t\t\tclearTimeout( resizeTimer );\n\t\t\t\tresizeTimer = setTimeout( responsiveVideos, 500 );\n\t\t\t} )\n\t\t\t.on( 'post-load.jetpack', responsiveVideos )\n\t\t\t.resize();\n\t} );\n\n} )( jQuery );\n"]}